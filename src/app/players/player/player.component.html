<form (keydown)="onKeyDown($event)"
      [formGroup]="playerForm"
      class="player-form">
    <div class="player-id">{{!newPlayer ? player.id : '+'}}</div>
    <input [class.edited]="modifiedAttributes.has('firstName')" formControlName="firstName"
           class="player-input" type="text">
    <input [class.edited]="modifiedAttributes.has('lastName')" formControlName="lastName"
           class="player-input" type="text">
    <input [class.edited]="modifiedAttributes.has('email')" formControlName="email"
           class="player-input" type="text">
</form>


<ng-container *ngIf="!isLoading; else loadingElement">
    <!-- Buttons -->
    <ng-container *ngIf="modifiedAttributes.size === 0 && !newPlayer; else buttonsEdit">
        <button (click)="onDelete()"
                class="clr-bg-primary-400 grid-span-2">
            <span class="nav-link-icon material-symbols-outlined">delete</span>
        </button>
    </ng-container>

    <ng-template #buttonsEdit>
        <button (click)="onSaveEdit()"
                class="clr-bg-primary-400">
            <span class="nav-link-icon material-symbols-outlined">save</span>
        </button>

        <button (click)="onCancelEdit()"
                class="clr-bg-primary-400">
            <span class="nav-link-icon material-symbols-outlined">cancel</span>
        </button>
    </ng-template>
</ng-container>

<ng-template #loadingElement>
    <div class="grid-span-2">loading...</div>
</ng-template>
